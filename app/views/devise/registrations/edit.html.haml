%h3 Update your account

= simple_form_for(resource, :as => resource_name, :url => registration_path(resource_name), html: { method: :put }) do |f|

  = f.input :email

  - if devise_mapping.confirmable? && resource.pending_reconfirmation?
    %div
      Currently waiting confirmation for: #{resource.unconfirmed_email}    

  - unless @user.identities.any?
    = f.input :password, autocomplete: "off"      
    = f.hint  "Leave blank if you don't want to change it"      
    = f.input :password_confirmation, autocomplete: "off"    
    = f.input :current_password, autocomplete: "off"

  = f.input :first_name
  = f.input :last_name
  / TODO: Add more important fields
  / = f.input :phone

  = f.input :photo, :as => :file
  = f.input :birthdate
  = f.input :origin_country, :label => "Where are you from ?"

  = f.button :submit, "Update"    

/ TODO: Move the account cancelation to another page
/ %h3 Cancel my account

/ = simple_form_for(resource, :as => resource_name, :url => registration_path(resource_name), :method => :delete) do |f|
/   = f.button :submit, "Cancel", data: { confirm: "Are you sure?" }

/ %p= link_to "Back", :back          